(function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"==typeof window?"undefined"==typeof global?"undefined"==typeof self?this:self:global:window,b.promiseToolbox=a()}})(function(){return function(){function b(d,e,g){function a(j,i){if(!e[j]){if(!d[j]){var f="function"==typeof require&&require;if(!i&&f)return f(j,!0);if(h)return h(j,!0);var c=new Error("Cannot find module '"+j+"'");throw c.code="MODULE_NOT_FOUND",c}var k=e[j]={exports:{}};d[j][0].call(k.exports,function(b){var c=d[j][1][b];return a(c||b)},k,k.exports,b,d,e,g)}return e[j].exports}for(var h="function"==typeof require&&require,c=0;c<g.length;c++)a(g[c]);return a}return b}()({1:[function(a,b){"use strict";b.exports=function(){function a(a){void 0===a&&(a="this action has been canceled"),Object.defineProperty(this,"message",{enumerable:!0,value:a})}var b=a.prototype;return b.toString=function(){return"Cancel: "+this.message},a}()},{}],2:[function(a,b){"use strict";function c(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function d(a,b,d){return b&&c(a.prototype,b),d&&c(a,d),a}function e(a){if(void 0===this._reason){var b=this._reason=a instanceof j?a:new j(a),c=this._resolve;void 0!==c&&(this._resolve=void 0,c(b));var d=this._handlers;if(void 0!==d){this._handlers=void 0;for(var e=h(),f=e.promise,g=e.resolve,l=0,m=function(){if(0==--l)return g()},o=0,p=d.length;o<p;++o)try{var n=d[o](b);k(n)&&(++l,n.then(m,m))}catch(a){}if(0!==l)return f}}}function f(a){var b=this._handlers;if(b!==void 0){var c=b.indexOf(a);-1!==c&&b.splice(c,1)}}function g(a){var b=this.cancel=e.bind(this.token=new p(o));null==a||a.forEach(function(a){var c=a.reason;return void 0===c?void a.addHandler(b):(b(c),!1)})}var h=a("./defer"),j=a("./Cancel"),k=a("./isPromise"),l=a("./_symbols"),m=l.$$toStringTag,n="CancelToken",o={},p=function(){function a(a){this._handlers=void 0,this._promise=void 0,this._reason=void 0,this._resolve=void 0,a!==o&&a(e.bind(this))}a.isCancelToken=function(a){return null!=a&&a[m]===n},a.source=function(a){return new g(a)};var b=a.prototype;return b.addHandler=function(a){var b=this._handlers;if(void 0===b){if(this.requested)throw new TypeError("cannot add a handler to an already canceled token");b=this._handlers=[]}return b.push(a),f.bind(this,a)},b.throwIfRequested=function(){var a=this._reason;if(void 0!==a)throw a},d(a,[{key:"promise",get:function(){var a=this,b=this._promise;if(void 0===b){var c=this._reason;b=this._promise=void 0===c?new Promise(function(b){a._resolve=b}):Promise.resolve(c)}return b}},{key:"reason",get:function(){return this._reason}},{key:"requested",get:function(){return void 0!==this._reason}},{key:m,get:function(){return n}}]),a}();e.call(p.canceled=new p(o)),p.none=new p(o),b.exports=p},{"./Cancel":1,"./_symbols":13,"./defer":20,"./isPromise":34}],3:[function(a,b){"use strict";function c(a,b){a.prototype=Object.create(b.prototype),a.prototype.constructor=a,a.__proto__=b}var d=a("make-error"),e=d.BaseError;b.exports=function(a){function b(){return a.call(this,"operation timed out")||this}return c(b,a),b}(e)},{"make-error":37}],4:[function(a,b){"use strict";b.exports=function(a,b){this.d=b,this.p=a}},{}],5:[function(a,b){"use strict";b.exports=function(a){return a}},{}],6:[function(a,b){"use strict";b.exports=function(a){return a instanceof ReferenceError||a instanceof SyntaxError||a instanceof TypeError}},{}],7:[function(a,b){"use strict";var c=a("./_noop"),d=a("./_once");b.exports=function(a,b,e){var f=b.addEventListener||b.addListener||b.on;if(void 0===f)throw new Error("cannot register event listener");var g=b.removeEventListener||b.removeListener||b.off,h=[],i=c;return void 0!==g&&(i=d(function(){for(var a=0,c=h.length;a<c;a+=2)g.call(b,h[a],h[a+1])}),a.promise.then(i)),e?function(a,c){function d(){i();var b=Array.prototype.slice.call(arguments);b.args=b,b.event=b.name=a,c(b)}h.push(a,d),f.call(b,a,d)}:function(a,c){var d=function(a){i(),c(a)};h.push(a,d),f.call(b,a,d)}}},{"./_noop":9,"./_once":10}],8:[function(a,b){"use strict";var c=a("./_isProgrammerError");b.exports=function a(b,d){if(b===void 0)return!c(d);if("function"==typeof b)return b===Error||b.prototype instanceof Error?d instanceof b:b(d);if(Array.isArray(b)){for(var e=b.length,f=0;f<e;++f)if(a(b[f],d))return!0;return!1}if(null!=d&&"object"==typeof b){for(var g in b)if(hasOwnProperty.call(b,g)&&d[g]!==b[g])return!1;return!0}}},{"./_isProgrammerError":6}],9:[function(a,b){"use strict";b.exports=Function.prototype},{}],10:[function(a,b){"use strict";b.exports=function(a){var b;return function(){return void 0!==a&&(b=a.apply(this,arguments),a=void 0),b}}},{}],11:[function(a,b){"use strict";var c=a("./isPromise");b.exports=function(a){return c(a)?a:Promise.resolve(a)}},{"./isPromise":34}],12:[function(a,b){"use strict";b.exports=function(){var b=Object.defineProperties;try{var c=b(function(){},{length:{value:2},name:{value:"foo"}});if(2===c.length&&"foo"===c.name)return function(a,c,d){return b(a,{length:{configurable:!0,value:0<d?d:0},name:{configurable:!0,value:c}})}}catch(a){}return a("./_identity")}()},{"./_identity":5}],13:[function(a,b,c){"use strict";var d="function"==typeof Symbol?function(a){var b=Symbol[a];return b===void 0?"@@"+a:b}:function(a){return"@@"+a};c.$$iterator=d("iterator"),c.$$toStringTag=d("toStringTag")},{}],14:[function(a,b,c){"use strict";if("function"!=typeof Promise||"function"!=typeof Promise.reject||"function"!=typeof Promise.resolve)throw new Error("a standard Promise implementation is required (https://github.com/JsCommunity/promise-toolbox#usage)");var d=a("./isPromise"),e=a("./_symbols"),f=e.$$iterator;c.applyThen=function(a,b,c,e){var f;try{if(f=a.apply(void 0,b),d(f))return void f.then(c,e)}catch(a){return void e(a)}c(f)};var g=c.forArray=function(a,b){for(var c=a.length,d=0;d<c;++d)b(a[d],d,a)};c.forIn=function(a,b){for(var c in a)b(a[c],c,a)};var h=c.forIterable=function(a,b){for(var c,d=a[f]();!(c=d.next()).done;)b(c.value,void 0,a)},i=Object.prototype.hasOwnProperty,j=c.forOwn=function(a,b){for(var c in a)i.call(a,c)&&b(a[c],c,a)},k=function(a){return null!=a&&"function"==typeof a[f]},l=c.forEach=function(a,b){return Array.isArray(a)?g(a,b):k(a)?h(a,b):n(a)?g(a,b):j(a,b)},m=function(a){return"number"==typeof a&&0<=a&&a<1/0&&Math.floor(a)===a},n=c.isArrayLike=function(a){return"function"!=typeof a&&null!=a&&m(a.length)};c.makeAsyncIterator=function(a){return function b(c,e){if(d(c))return c.then(function(a){return b(a,e)});var f=Promise.resolve();return a(c,function(a,b){f=d(a)?f.then(function(){return a.then(function(a){return e(a,b,c)})}):f.then(function(){return e(a,b,c)})}),f}},c.map=function(a,b){var c=[];return l(a,function(a,d,e){c.push(b(a,d,e))}),c},c.mapAuto=function(a,b){var c=n(a)?Array(a.length):Object.create(null);return void 0!==b&&l(a,function(a,d,e){c[d]=b(a,d,e)}),c}},{"./_symbols":13,"./isPromise":34}],15:[function(a,b){"use strict";var c=a("./isPromise"),d=a("./_utils"),e=d.forEach,f=d.mapAuto,g=function(a,b){return new Promise(function(d,g){var h=f(a,b),i=1,j=function(){if(0==--i){var a=h;h=void 0,d(a)}},k=function(a,b){h&&(h[b]=a,j())},l=function(a){h&&(h=void 0,g(a))};e(b===void 0?a:h,function(a,b){++i,c(a)?a.then(function(a){return k(a,b)},l):k(a,b)}),j()})};b.exports=function(a){return c(this)?this.then(function(b){return g(b,a)}):g(this,a)}},{"./_utils":14,"./isPromise":34}],16:[function(a,b){"use strict";b.exports=function(a){return"function"==typeof a&&this.then(function(b){return a(void 0,b)},a),this}},{}],17:[function(a,b){"use strict";function c(a,b){var c;try{c=this.iterator[a](b)}catch(a){return this.reject(a)}b=c.value,c.done?this.resolve(b):this.toPromise(b).then(this.onFulfill,this.onReject)}function d(a,b,d){this.iterator=a,this.onFulfill=c.bind(this,"next"),this.onReject=c.bind(this,"throw"),this.reject=d,this.resolve=b,this.toPromise=e}var e=a("./_resolve"),f=function(a){return function(){var b=this,c=arguments;return new Promise(function(e,f){return new d(a.apply(b,c),e,f).onFulfill()})}};f.cancelable=function(a){return function(b){var c=this,f=arguments;return b.requested?Promise.reject(b.reason):new Promise(function(g,h){var i=new d(a.apply(c,f),g,h),j=b.promise;j.then(function(){i.toPromise=e}),i.toPromise=function(a){return new Promise(function(b,c){e(a).then(b,c),j.then(c)})},i.onFulfill()})}},b.exports=f},{"./_resolve":11}],18:[function(a,b){"use strict";var c=a("./_setFunctionNameAndLength"),d=a("./CancelToken"),e=d.isCancelToken,f=d.source;b.exports=function(a,b,d){var g=d===void 0?a:d.value,h=c(function(){var a=arguments.length;if(0!==a&&e(arguments[0]))return g.apply(this,arguments);var b=f(),c=b.cancel,d=b.token,h=Array(a+1);h[0]=d;for(var j=0;j<a;++j)h[j+1]=arguments[j];var k=g.apply(this,h);return k.cancel=c,k},g.name,g.length-1);return void 0===d?h:(d.value=h,d)}},{"./CancelToken":2,"./_setFunctionNameAndLength":12}],19:[function(a,b){"use strict";function c(a,b,c){return d(a,c)?b(c):this}var d=a("./_matchError");b.exports=function(){var a,b=arguments.length;return 0===b||"function"!=typeof(a=arguments[--b])?this:this.then(void 0,c.bind(this,0===b?void 0:1===b?arguments[0]:Array.prototype.slice.call(arguments,0,b),a))}},{"./_matchError":8}],20:[function(a,b){"use strict";b.exports=function(){var a,b,c=new Promise(function(c,d){a=c,b=d});return{promise:c,reject:b,resolve:a}}},{}],21:[function(a,b){"use strict";var c=a("./isPromise");b.exports=function(a){var b=2===arguments.length?arguments[1]:this;if(c(b))return b.then(function(b){return new Promise(function(c){setTimeout(c,a,b)})});var d,e=new Promise(function(c){d=setTimeout(c,a,b)});return e.unref=function(){return null!=d&&"function"==typeof d.unref&&d.unref(),e},e}},{"./isPromise":34}],22:[function(a,b){"use strict";var c=a("./_Resource");b.exports=function a(a){return new c(this,a)}},{"./_Resource":4}],23:[function(a,b){"use strict";b.exports=function(a){var b=this;return this.then(a,a).then(function(){return b})}},{}],24:[function(a,b){"use strict";b.exports=a("./makeAsyncIterator")(a("./_utils").forArray)},{"./_utils":14,"./makeAsyncIterator":35}],25:[function(a,b){"use strict";b.exports=a("./makeAsyncIterator")(a("./_utils").forEach)},{"./_utils":14,"./makeAsyncIterator":35}],26:[function(a,b){"use strict";b.exports=a("./makeAsyncIterator")(a("./_utils").forIn)},{"./_utils":14,"./makeAsyncIterator":35}],27:[function(a,b){"use strict";b.exports=a("./makeAsyncIterator")(a("./_utils").forIterable)},{"./_utils":14,"./makeAsyncIterator":35}],28:[function(a,b){"use strict";b.exports=a("./makeAsyncIterator")(a("./_utils").forOwn)},{"./_utils":14,"./makeAsyncIterator":35}],29:[function(a,b){"use strict";function c(a,b,c,d){b.push(function(a,b){return null!=a&&!1!==a?d(a):c(b)}),a.apply(this,b)}b.exports=function(a){for(var b=arguments.length,d=Array(1<b?b-1:0),e=1;e<b;e++)d[e-1]=arguments[e];return new Promise(c.bind(this,"function"==typeof a?a:this[a],d))}},{}],30:[function(a,b){"use strict";var c=a("./cancelable"),d=a("./_makeEventAdder"),e=c(function(a,b,c,e){return void 0===e&&(e={}),new Promise(function(f,g){var h=d(a,b,e.array);if(h(c,f),!e.ignoreErrors){var i=e,j=i.error,k=void 0===j?"error":j;k!==c&&h(k,g)}})});b.exports=e},{"./_makeEventAdder":7,"./cancelable":18}],31:[function(a,b){"use strict";var c=a("./cancelable"),d=a("./_makeEventAdder"),e=a("./_utils"),f=e.forArray,g=c(function(a,b,c,e){return void 0===e&&(e=["error"]),new Promise(function(g,h){var i=d(a,b,!0);f(c,function(a){return i(a,g)}),f(e,function(a){return i(a,h)})})});b.exports=g},{"./_makeEventAdder":7,"./_utils":14,"./cancelable":18}],32:[function(a,b){"use strict";var c=a("./_isProgrammerError"),d=function(a){if(c(a))throw a};b.exports=function(){return this.then(void 0,d)}},{"./_isProgrammerError":6}],33:[function(a,b,c){"use strict";c.pAll=c.all=a("./all"),c.pAsCallback=c.asCallback=a("./asCallback"),c.pAsyncFn=c.asyncFn=a("./asyncFn"),c.pCancel=c.Cancel=a("./Cancel"),c.pCancelable=c.cancelable=a("./cancelable"),c.pCancelToken=c.CancelToken=a("./CancelToken"),c.pCatch=c.catch=a("./catch"),c.pDefer=c.defer=a("./defer"),c.pDelay=c.delay=a("./delay"),c.pDisposer=c.disposer=a("./disposer"),c.pFinally=c.finally=a("./finally"),c.pForArray=c.forArray=a("./forArray"),c.pForEach=c.forEach=a("./forEach"),c.pForIn=c.forIn=a("./forIn"),c.pForIterable=c.forIterable=a("./forIterable"),c.pForOwn=c.forOwn=a("./forOwn"),c.pFromCallback=c.fromCallback=a("./fromCallback"),c.pFromEvent=c.fromEvent=a("./fromEvent"),c.pFromEvents=c.fromEvents=a("./fromEvents"),c.pIgnoreErrors=c.ignoreErrors=a("./ignoreErrors"),c.pIsPromise=c.isPromise=a("./isPromise"),c.pMakeAsyncIterator=c.makeAsyncIterator=a("./makeAsyncIterator"),c.pMap=c.map=a("./map"),c.pPipe=c.pipe=a("./pipe"),c.pPromisify=c.promisify=a("./promisify"),c.pPromisifyAll=c.promisifyAll=a("./promisifyAll"),c.pReflect=c.reflect=a("./reflect"),c.pRetry=c.retry=a("./retry"),c.pSettle=c.settle=a("./settle"),c.pSome=c.some=a("./some"),c.pSuppressUnhandledRejections=c.suppressUnhandledRejections=a("./suppressUnhandledRejections"),c.pTap=c.tap=a("./tap"),c.pTapCatch=c.tapCatch=a("./tapCatch"),c.pTimeout=c.timeout=a("./timeout"),c.pTimeoutError=c.TimeoutError=a("./TimeoutError"),c.pTry=c.try=a("./try"),c.pUnpromisify=c.unpromisify=a("./unpromisify"),c.pUsing=c.using=a("./using"),c.pWrapApply=c.wrapApply=a("./wrapApply"),c.pWrapCall=c.wrapCall=a("./wrapCall")},{"./Cancel":1,"./CancelToken":2,"./TimeoutError":3,"./all":15,"./asCallback":16,"./asyncFn":17,"./cancelable":18,"./catch":19,"./defer":20,"./delay":21,"./disposer":22,"./finally":23,"./forArray":24,"./forEach":25,"./forIn":26,"./forIterable":27,"./forOwn":28,"./fromCallback":29,"./fromEvent":30,"./fromEvents":31,"./ignoreErrors":32,"./isPromise":34,"./makeAsyncIterator":35,"./map":36,"./pipe":38,"./promisify":39,"./promisifyAll":40,"./reflect":41,"./retry":42,"./settle":43,"./some":44,"./suppressUnhandledRejections":45,"./tap":46,"./tapCatch":47,"./timeout":48,"./try":49,"./unpromisify":50,"./using":51,"./wrapApply":52,"./wrapCall":53}],34:[function(a,b){"use strict";b.exports=function(a){return null!=a&&"function"==typeof a.then}},{}],35:[function(a,b){"use strict";var c=a("./_noop"),d=a("./_utils"),e=d.makeAsyncIterator;b.exports=function(a){var b=e(a);return function(a){return b(this,a).then(c)}}},{"./_noop":9,"./_utils":14}],36:[function(a,b){"use strict";var c=a("./defer"),d=a("./_identity"),e=a("./isPromise"),f=a("./_utils"),g=f.applyThen,h=f.forEach,i=function a(b,f){if(void 0===f&&(f=d),e(b))return b.then(function(b){return a(b,f)});var j,k=1,l=[],m=c(),n=m.promise,o=m.reject,p=m.resolve,q=function(){0==--k&&(void 0===j?p(l):o(j.error))},r=function(a){void 0===j&&(j={error:a}),q()},s=function a(b){var c=b[0];return e(c)?c.then(function(c){return b[0]=c,a(b)}):void g(f,b,function(a){l[b[3]]=a,q()},r)},t=0;return h(b,function(a,b,c){++k,s([a,b,c,t++])}),q(),n};b.exports=function(a){return i(this,a)}},{"./_identity":5,"./_utils":14,"./defer":20,"./isPromise":34}],37:[function(a,b,c){'use strict';function d(a){a!==void 0&&f(this,"message",{configurable:!0,value:a,writable:!0});var b=this.constructor.name;b!==void 0&&b!==this.name&&f(this,"name",{configurable:!0,value:b,writable:!0}),g(this,this.constructor)}var e="undefined"==typeof Reflect?void 0:Reflect.construct,f=Object.defineProperty,g=Error.captureStackTrace;g===void 0&&(g=function(a){var b=new Error;f(a,"stack",{configurable:!0,get:function(){var a=b.stack;return f(this,"stack",{configurable:!0,value:a,writable:!0}),a},set:function(b){f(a,"stack",{configurable:!0,value:b,writable:!0})}})}),d.prototype=Object.create(Error.prototype,{constructor:{configurable:!0,value:d,writable:!0}});var h=function(){function a(a,b){return f(a,"name",{configurable:!0,value:b})}try{var b=function(){};if(a(b,"foo"),"foo"===b.name)return a}catch(a){}}();c=b.exports=function(a,b){if(null==b||b===Error)b=d;else if("function"!=typeof b)throw new TypeError("super_ should be a function");var c;if("string"==typeof a)c=a,a=void 0===e?function(){b.apply(this,arguments)}:function(){return e(b,arguments,this.constructor)},void 0!==h&&(h(a,c),c=void 0);else if("function"!=typeof a)throw new TypeError("constructor should be either a string or a function");a.super_=a["super"]=b;var f={constructor:{configurable:!0,value:a,writable:!0}};return void 0!==c&&(f.name={configurable:!0,value:c,writable:!0}),a.prototype=Object.create(b.prototype,f),a},c.BaseError=d},{}],38:[function(a,b){"use strict";var c=Array.isArray,d=Array.prototype.slice,e=function(a,b){return a.then(b)};b.exports=function(a){return c(a)||(a=d.call(arguments)),function(b){return a.reduce(e,Promise.resolve(b))}}},{}],39:[function(a,b){"use strict";var c=a("./_setFunctionNameAndLength");b.exports=function(a,b){return c(function(){for(var c=this,d=arguments.length,e=Array(d+1),f=0;f<d;++f)e[f]=arguments[f];return new Promise(function(f,g){e[d]=function(a,b){return null==a?f(b):g(a)},a.apply(b===void 0?c:b,e)})},a.name,a.length-1)}},{"./_setFunctionNameAndLength":12}],40:[function(a,b){"use strict";var c=a("./promisify"),d=a("./_utils"),e=d.forIn,f=function(a,b){return!(b.endsWith("Sync")||b.endsWith("Async"))&&b};b.exports=function(a,b){var d=void 0===b?{}:b,g=d.mapper,h=void 0===g?f:g,i=d.target,j=void 0===i?{}:i,k=d.context,l=void 0===k?a:k;return e(a,function(b,d){var e;"function"==typeof b&&(e=h(b,d,a))&&(j[e]=c(b,l))}),j}},{"./_utils":14,"./promisify":39}],41:[function(a,b){"use strict";var c=function(){return!1},d=function(){return!0},e=function(a){return function(b){return{__proto__:a,value:function(){return b}}}}({isFulfilled:d,isPending:c,isRejected:c,reason:function(){throw new Error("no reason, the promise has resolved")}}),f=function(a){return function(b){return{__proto__:a,reason:function(){return b}}}}({isFulfilled:c,isPending:c,isRejected:d,value:function(){throw new Error("no value, the promise has rejected")}});b.exports=function(){return this.then(e,f)}},{}],42:[function(a,b){"use strict";function c(a){throw this.error=a,this}var d=a("./_matchError"),e=a("./_noop");b.exports=function(a,b){var f=void 0===b?{}:b,g=f.delay,h=void 0===g?1e3:g,i=f.onRetry,j=void 0===i?e:i,k=f.retries,l=f.tries,m=f.when;if(l===void 0)l=void 0===k?10:k+1;else if(k!==void 0)throw new TypeError("retries and tries options are mutually exclusive");var n,o={error:void 0},p=c.bind(o);if(0!==h){var q=function(a){return setTimeout(a,h)};n=function(){return new Promise(q)}}m=d.bind(void 0,m);var r=function(a){if(a===o)throw o.error;if(0==--l||!m(a))throw a;return Promise.resolve(j(a)).then(n).then(t)},s=function(b){return b(a(p))},t=function(){return new Promise(s).catch(r)};return t()}},{"./_matchError":8,"./_noop":9}],43:[function(a,b){"use strict";var c=a("./all"),d=a("./reflect"),e=a("./_resolve");b.exports=function(){return c.call(this,function(a){var b;return(b=e(a),d).call(b)})}},{"./_resolve":11,"./all":15,"./reflect":41}],44:[function(a,b){"use strict";var c=a("./_resolve"),d=a("./_utils"),e=d.forEach,f=function(a,b){return new Promise(function(c,d){var f=[],g=[],h=function(a){f&&(f.push(a),0==--b&&(c(f),f=g=void 0))},i=-b,j=function(a){f&&(g.push(a),0==--i&&(d(g),f=g=void 0))};e(a,function(a){++i,c(a).then(h,j)})})};b.exports=function(a){return c(this).then(function(b){return f(b,a)})}},{"./_resolve":11,"./_utils":14}],45:[function(a,b){"use strict";var c=a("./_noop");b.exports=function(){var a=this.suppressUnhandledRejections;return"function"==typeof a?a.call(this):this.then(void 0,c),this}},{"./_noop":9}],46:[function(a,b){"use strict";b.exports=function(a,b){var c=this;return this.then(a,b).then(function(){return c})}},{}],47:[function(a,b){"use strict";b.exports=function(a){var b=this;return this.then(void 0,a).then(function(){return b})}},{}],48:[function(a,b){"use strict";var c=a("./TimeoutError");b.exports=function(a,b){var d=this;return 0===a?this:(void 0===b&&(b=new c),new Promise(function(c,e){var f=setTimeout(function(){if(f=void 0,"function"==typeof d.cancel&&d.cancel(),"function"==typeof b)try{c(b())}catch(a){e(a)}else e(b)},a);d.then(function(a){void 0!==f&&clearTimeout(f),c(a)},function(a){void 0!==f&&clearTimeout(f),e(a)})}))}},{"./TimeoutError":3}],49:[function(a,b){"use strict";var c=a("./_resolve");b.exports=function(a){try{return c(a())}catch(a){return Promise.reject(a)}}},{"./_resolve":11}],50:[function(a,b){"use strict";var c=a("./_setFunctionNameAndLength");b.exports=function(){var a=this;return c(function(){var b,c=arguments.length-1;if(0>c||"function"!=typeof(b=arguments[c]))throw new Error("missing callback");for(var d=Array(c),e=0;e<c;++e)d[e]=arguments[e];a.apply(this,d).then(function(a){return b(void 0,a)},function(a){return b(a)})},a.name,a.length+1)}},{"./_setFunctionNameAndLength":12}],51:[function(a,b){"use strict";var c=a("./_once"),d=a("./_Resource"),e=a("./wrapApply"),f=a("./wrapCall"),g=a("./_utils"),h=g.forArray;b.exports=function(){var a=this,b=arguments.length-1;if(1>b)throw new TypeError("using expects at least 2 arguments");var g,i=arguments[b],j=1<b||!Array.isArray(g=arguments[0]);j?g=Array.prototype.slice.call(arguments,0,b):b=g.length;var k=c(function(a,c){var e=b,i=function(){0==--e&&a(c)},j=function(a){setTimeout(function(){throw a},0)};h(g,function(a){var b;null!=a&&"function"==typeof(b=a.d)?(a.p.then(function(a){return f(b,a).then(i,j)},i),a.p=a.d=void 0):--e})});return new Promise(function(c,l){var m=Array(b),n=b,o=function(a){o=r,s=function(){return k(l,a)},r()},q=function(a){return o(a)},r=function(){0==--n&&s()},s=function(){return(j?e:f)(i,m,a).then(function(a){return k(c,a)},function(a){return k(l,a)})};h(g,function(a,b){var c;if(!(a instanceof d))c=Promise.resolve(a);else if(c=a.p,void 0===c)return q(new TypeError("resource has already been disposed of"));c.then(function(a){m[b]=a,r()},q)})})}},{"./_Resource":4,"./_once":10,"./_utils":14,"./wrapApply":52,"./wrapCall":53}],52:[function(a,b){"use strict";var c=a("./_resolve");b.exports=function(a,b,d){try{return c(a.apply(d,b))}catch(a){return Promise.reject(a)}}},{"./_resolve":11}],53:[function(a,b){"use strict";var c=a("./_resolve");b.exports=function(a,b,d){try{return c(a.call(d,b))}catch(a){return Promise.reject(a)}}},{"./_resolve":11}]},{},[33])(33)});