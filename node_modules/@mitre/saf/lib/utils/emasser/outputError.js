"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.outputError = void 0;
const tslib_1 = require("tslib");
const lodash_1 = tslib_1.__importDefault(require("lodash"));
function outputError(data) {
    let result = { meta: { code: 'Unknown', errorMessage: 'Unable to access error message(s)' } };
    if (lodash_1.default.has(data, 'response.data')) {
        // Need to use the non null assertion (!) or return and empty objet as _.get can return undefined
        result = lodash_1.default.get(data, 'response.data') || {};
    }
    else if (lodash_1.default.has(data, 'response.status')) {
        result = { meta: { code: lodash_1.default.get(data, 'response.status'), errorMessage: lodash_1.default.get(data, 'response.statusText') } };
    }
    return JSON.stringify(result, null, 2);
}
exports.outputError = outputError;
