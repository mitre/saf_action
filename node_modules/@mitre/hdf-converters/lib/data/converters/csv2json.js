"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const csv2json_1 = __importDefault(require("csv2json"));
const fs_1 = require("fs");
const path_1 = __importDefault(require("path"));
const files = [
    'aws-config-mapping.csv',
    'cwe-nist-mapping.csv',
    'nessus-plugins-nist-mapping.csv',
    'nikto-nist-mapping.csv',
    'owasp-nist-mapping.csv',
    'scoutsuite-nist-mapping.csv'
];
try {
    const pathToFiles = process.argv[2];
    try {
        const pathToOutput = process.argv[3];
        files.forEach((file) => {
            (0, fs_1.createReadStream)(path_1.default.join(pathToFiles, file))
                .pipe((0, csv2json_1.default)())
                .pipe((0, fs_1.createWriteStream)(path_1.default.join(pathToOutput, file.replace('.csv', '.json'))));
        });
    }
    catch {
        console.error(`You must provide the path to an output folder.`);
        process.exit(1);
    }
}
catch {
    console.error(`You must provide the path to a folder containing ${files.join(', ')}.`);
    process.exit(1);
}
//# sourceMappingURL=csv2json.js.map